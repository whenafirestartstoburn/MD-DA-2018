---
title: "lw1"
author: "disclosure fan"
date: '27th September, 2018'
output: html_document
---


## Задание №1

Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор exp.1. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
exp.1 <- rexp(200)
exp.1.var <- var(exp.1) # среднее отклонение
exp.1.sd <- sd(exp.1) # станадартное отклонение
```

Повторите, использовав следующие значения параметра ??: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: exp.0.1, exp.0.5, exp.5, exp.10.

```{r}
exp.0.1 <- rexp(200, 0.1)
exp.0.1.var <- var(exp.0.1) # среднее отклонение
exp.0.1.sd <- sd(exp.0.1) # станадартное отклонение

exp.0.5 <- rexp(200, 0.5)
exp.0.5.var <- var(exp.0.5) # среднее отклонение
exp.0.5.sd <- sd(exp.0.5) # станадартное отклонение

exp.5 <- rexp(200, 5)
exp.5.var <- var(exp.5) # среднее отклонение
exp.5.sd <- sd(exp.5) # станадартное отклонение

exp.10 <- rexp(200, 10)
exp.10.var <- var(exp.10) # среднее отклонение
exp.10.sd <- sd(exp.10) # станадартное отклонение
```

Используйте функцию hist() для построения гистограммы полученного ранее стандартного распределения.

```{r}
hist(exp.1)
```

Используйте функцию plot() с тем же самым вектором для построения графика значений в порядке следования.

```{r}
plot(exp.1)
```

Используйте функцию plot() с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния (scatterplot) этих векторов относительно друг друга.

```{r}
plot(exp.1 ~ exp.0.1)
```

Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания. Полученный вектор сохраним в переменную exp.means.

```{r}
exp.means <- c(mean(exp.1),mean(exp.0.1),mean(exp.0.5),mean(exp.5),mean(exp.10))
```

Далее необходимо создать следующие диаграммы рассеяния:

Вектор с пятью средними относительно каждого из пяти векторов с различными значениями ??.

```{r}
plot(rep(exp.means, each = 40) ~ exp.1)
plot(rep(exp.means, each = 40) ~ exp.0.1)
plot(rep(exp.means, each = 40) ~ exp.0.5)
plot(rep(exp.means, each = 40) ~ exp.5)
plot(rep(exp.means, each = 40) ~ exp.10)
```

Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями ??.

```{r}
exp.sds <- c(exp.1.sd, exp.0.1.sd, exp.0.5.sd, exp.5.sd, exp.10.sd)
plot(rep(exp.sds, each = 40) ~ exp.1)
plot(rep(exp.sds, each = 40) ~ exp.0.1)
plot(rep(exp.sds, each = 40) ~ exp.0.5)
plot(rep(exp.sds, each = 40) ~ exp.5)
plot(rep(exp.sds, each = 40) ~ exp.10)
```

Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.

```{r}

plot(exp.means ~ exp.sds)
```


## Задание 2

Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор huge.exp.1. Получите среднее и стандартное отклонение.

```{r}
huge.exp.1 <- rexp(1100000)
huge.exp.1.var <- var(huge.exp.1) 
huge.exp.1.sd <- sd(huge.exp.1) 
```

Получите гистограмму huge.exp.1. Она соответствует функции 1 - e:^(-x)? Должна ли?

```{r}
hist(huge.exp.1) 
```

Гистограмма соответствует функции экспоненциального распределение, как и должна, даже лучше чем предыдущие выборки с меньшим количеством значений.

Получите среднее всех чисел из huge.exp.1 строго больших 1. Для проверки выборки может потребоваться новый вектор.

```{r}
filtered.exp.1 <- huge.exp.1[huge.exp.1 > 1]
filtered.exp.1.mean <- mean(filtered.exp.1) # искомое значение
```

Получите матрицу huge.exp.1.mat, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу. Что можно сказать о полученных данных?

```{r}
huge.exp.1.mat <- matrix(huge.exp.1, nrow = 1100, ncol = 1000)
```

Постройте гистограмму, использовав полученную матрицу

```{r}
hist(huge.exp.1.mat)
```

Рассчитайте среднее 137-й колонки из huge.exp.1.mat.

```{r}
mean(huge.exp.1.mat[,137])
```

Найдите средние всех 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних зннчений колонок. Объясните почему форма диаграммы отличается от виденных ранее.

```{r}
huge.exp.1.mat.colMeans <- colMeans(huge.exp.1.mat) # средние значения
hist(huge.exp.1.mat.colMeans) #гистограмма
```

Выглидт по-другому, потому что, как выясняется, средние значения колонок получившейся матрицы (а поскольку в исходном векторе меньше элементов, то он повторялся для того, чтобы ее дозаполнить), рапределены не экпоненциально, а, скорее, нормально.

Рассчитайте квадрат каждого значения из huge.exp.1 и найдите среднее и стандартное отклонение полученного вектора квадратов. Объясните отличие от соответствующих показателей вектора huge.exp.1. Вам может помочь формула, по которой R рассчитывает стандартное отклонение: sqrt(sum((x - mean(x))^2) / (n - 1)).

```{r}
huge.exp.1.square <- (huge.exp.1)^2
huge.exp.1.square.var <- var(huge.exp.1.square)
huge.exp.1.square.sd <- sd(huge.exp.1.square)
```

После возведения в квадрат, естественно, значения отклонений стали больше, чем были изначально, т.к. те значения, которые сильно отклонялись, теперь отклоняются еще больше.

